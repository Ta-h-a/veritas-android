{"version":3,"names":["isClient","StyleObjectIdentifier","StyleObjectRules","createVariable","scannedCache","WeakMap","totalSelectorsInserted","Map","allSelectors","allRules","getAllSelectors","getAllRules","Object","values","lastScannedSheets","scanAllSheets","collectThemes","tokens","process","env","NODE_ENV","themes","sheets","document","styleSheets","prev","current","Set","sheet2","out","updateSheetStyles","has","trackInsertedStyle","id","next","get","set","bailAfterEnv","TAMAGUI_BAIL_AFTER_SCANNING_X_CSS_RULES","bailAfter","remove","rules","cssRules","firstSelector","getTamaguiSelector","lastSelector","length","cacheKey","lastScanned","len","fails","dedupedThemes","nameToTheme","i","rule","CSSStyleRule","response","identifier","cssRule","isTheme","deduped","addThemesFromCSS","name","names","apply","theme","filter","x","push","colorVarToVal","rootComputedStyle","cssStyleRule","selectors","selectorText","split","color","key","token","val","cssText","slice","sepI","indexOf","varIndex","TAMAGUI_CSS_VARIABLE_PREFIX","replace","value","startsWith","varName","tokenVal","getComputedStyle","body","getPropertyValue","selector","lastThemeSelectorIndex","lastIndexOf","schemeChar","scheme","themeName","add","tamaguiSelectorRegex","text","test","getIdentifierFromTamaguiSelector","CSSMediaRule","dotIndex","sheet","trackAllRules","stopAccumulatingRules","updateRules","join","nonce","setNonce","_","insertStyleRules","rulesToInsert","head","styleTag","createElement","appendChild","styleObject","shouldInsertStyleRules","insertRule","console","warn","error","maxToInsert","TAMAGUI_INSERT_SELECTOR_TRIES","IS_STATIC","total","TAMAGUI_STYLE_INSERTION_WARNING_LIMIT"],"sources":["../../../src/helpers/insertStyleRule.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}