{"version":3,"names":["isClient","StyleObjectIdentifier","StyleObjectRules","createVariable","scannedCache","WeakMap","totalSelectorsInserted","Map","allSelectors","allRules","getAllSelectors","getAllRules","Object","values","lastScannedSheets","scanAllSheets","collectThemes","arguments","length","tokens","process","env","NODE_ENV","themes","sheets","document","styleSheets","prev","current","Set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","next","done","sheet2","value","out","updateSheetStyles","err","return","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","sheet1","has","trackInsertedStyle","id","get","set","bailAfterEnv","TAMAGUI_BAIL_AFTER_SCANNING_X_CSS_RULES","bailAfter","remove","_getTamaguiSelector","_getTamaguiSelector1","rules","cssRules","firstSelector","getTamaguiSelector","lastSelector","cacheKey","lastScanned","len","fails","dedupedThemes","nameToTheme","i","rule","CSSStyleRule","response","identifier","cssRule","isTheme","deduped","addThemesFromCSS","_loop","name","apply","theme","names","filter","x","push","colorVarToVal","rootComputedStyle","cssStyleRule","selectors","selectorText","split","color","key","token","val","rulesWithBraces","cssText","slice","sepI","indexOf","varIndex","key1","TAMAGUI_CSS_VARIABLE_PREFIX","replace","startsWith","varName","tokenVal","getComputedStyle","body","getPropertyValue","selector","lastThemeSelectorIndex","lastIndexOf","schemeChar","scheme","themeName","add"],"sources":["../../../src/helpers/insertStyleRule.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}