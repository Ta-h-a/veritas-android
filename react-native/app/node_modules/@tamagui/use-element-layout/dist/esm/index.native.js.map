{"version":3,"names":["isClient","useIsomorphicLayoutEffect","isEqualShallow","LayoutHandlers","WeakMap","Nodes","Set","IntersectionState","globalIntersectionObserver","strategy","setOnLayoutStrategy","state","NodeRectCache","ParentRectCache","LastChangeTime","rAF","window","requestAnimationFrame","avoidUpdates","queuedUpdates","Map","enable","forEach","cb","clear","startGlobalObservers","IntersectionObserver","entries","entry","node","target","get","isIntersecting","set","threshold","supportsCheckVisibility","document","body","BoundingRects","updateLayoutIfChanged","process","env","TAMAGUI_ONLAYOUT_VISIBILITY_CHECK","checkVisibility","onLayout","parentNode","parentElement","nodeRect","parentRect","nr","pr","Promise","all","getBoundingClientRectAsync","getBoundingClientRect","cachedRect","cachedParentRect","event","getElementLayoutEvent","layoutOnAnimationFrame","frameCount","userSkipVal","TAMAGUI_LAYOUT_FRAME_SKIP","RUN_EVERY_X_FRAMES","size","Number","MAX_SAFE_INTEGER","res","io","disconnect","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","Symbol","iterator","_step2","next","done","value","boundingClientRect","err","return","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","HTMLElement","observe","NODE_ENV","console","warn","nativeEvent","layout","getRelativeDimensions","timeStamp","Date","now","a","b","height","left","top","width","x","y","pageX","pageY","useElementLayout","ref","_ref_current","ensureWebElement","current","host","_ref_current2","node2","add","delete","unobserve","nodeType"],"sources":["../../src/index.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}