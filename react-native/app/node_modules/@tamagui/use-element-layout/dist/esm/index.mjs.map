{"version":3,"names":["isClient","useIsomorphicLayoutEffect","isEqualShallow","LayoutHandlers","WeakMap","Nodes","Set","IntersectionState","globalIntersectionObserver","strategy","setOnLayoutStrategy","state","NodeRectCache","ParentRectCache","LastChangeTime","rAF","window","requestAnimationFrame","avoidUpdates","queuedUpdates","Map","enable","forEach","cb","clear","startGlobalObservers","IntersectionObserver","entries","entry","node","target","get","isIntersecting","set","threshold","supportsCheckVisibility","document","body","BoundingRects","updateLayoutIfChanged","process","env","TAMAGUI_ONLAYOUT_VISIBILITY_CHECK","checkVisibility","onLayout","parentNode","parentElement","nodeRect","parentRect","nr","pr","Promise","all","getBoundingClientRectAsync","getBoundingClientRect","cachedRect","cachedParentRect","event","getElementLayoutEvent","layoutOnAnimationFrame","frameCount","userSkipVal","TAMAGUI_LAYOUT_FRAME_SKIP","RUN_EVERY_X_FRAMES","size","Number","MAX_SAFE_INTEGER","res","io","disconnect","boundingClientRect","HTMLElement","observe","NODE_ENV","console","warn","nativeEvent","layout","getRelativeDimensions","timeStamp","Date","now","a","b","height","left","top","width","x","y","pageX","pageY","useElementLayout","ref","ensureWebElement","current","host","node2","add","delete","unobserve","nodeType","measureNode","relativeTo","relativeNode","nodeDim","relativeNodeDim","measure","callback","out","createMeasure","measureInWindow","createMeasureInWindow","measureLayout","createMeasureLayout"],"sources":["../../src/index.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}