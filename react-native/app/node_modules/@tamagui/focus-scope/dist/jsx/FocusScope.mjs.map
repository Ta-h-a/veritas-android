{"version":3,"names":["useComposedRefs","startTransition","idle","useAsyncEffect","useEvent","React","useFocusScopeControllerContext","Fragment","jsx","AUTOFOCUS_ON_MOUNT","AUTOFOCUS_ON_UNMOUNT","EVENT_OPTIONS","bubbles","cancelable","FocusScope","forwardRef","__scopeFocusScope","props","forwardedRef","context","warn","fallback","mergedProps","enabled","loop","trapped","onMountAutoFocus","onUnmountAutoFocus","forceUnmount","focusOnIdle","childProps","useFocusScope","children","cloneElement","Children","only","onMountAutoFocusProp","onUnmountAutoFocusProp","scopeProps","container","setContainer","useState","lastFocusedElementRef","useRef","setContainerTransition","useCallback","node","composedRefs","focusScope","paused","pause","resume","current","useEffect","controller","AbortController","handleFocusIn","event","target","contains","addEventListener","handleBlur","signal","focus","select","handleFocusOut","abort","relatedTarget","document","removeEventListener","focusScopesStack","add","previouslyFocusedElement","activeElement","mountEvent","CustomEvent","dispatchEvent","defaultPrevented","max","min","allCandidates","getTabbableCandidates","visibleCandidates","removeLinks","filter","candidate","isHidden","upTo","focusFirst","length","unmountEvent","body","remove","handleKeyDown","isTabKey","key","altKey","ctrlKey","metaKey","focusedElement","first","last","getTabbableEdges","shiftKey","preventDefault","handleKeyDownCapture","existingOnKeyDown","onKeyDown","composedOnKeyDown","ref","candidates","findVisible","reverse","nodes","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","isHiddenInput","tagName","type","disabled","hidden","FILTER_SKIP","tabIndex","FILTER_ACCEPT","nextNode","push","currentNode","elements","element","getComputedStyle","visibility","display","parentElement","isSelectableInput","HTMLInputElement","preventScroll","createFocusScopesStack","stack","activeFocusScope","arrayRemove","unshift","array","item","updatedArray","index","indexOf","splice","items"],"sources":["../../src/FocusScope.tsx"],"sourcesContent":[null],"mappings":"AAAA,SAASA,eAAA,QAAuB;AAChC,SAASC,eAAA,QAAuB;AAChC,SAASC,IAAA,EAAMC,cAAA,QAAsB;AACrC,SAASC,QAAA,QAAgB;AACzB,YAAYC,KAAA,MAAW;AACvB,SAASC,8BAAA,QAAsC;AA2ClC,SAAAC,QAAA,EAAAC,GAAA;AArCb,MAAMC,kBAAA,GAAqB;EACrBC,oBAAA,GAAuB;EACvBC,aAAA,GAAgB;IAAEC,OAAA,EAAS;IAAOC,UAAA,EAAY;EAAK;EAUnDC,UAAA,GAAaT,KAAA,CAAMU,UAAA,CACvB,UACE;IAAEC,iBAAA;IAAmB,GAAGC;EAAM,GAC9BC,YAAA,EACA;IAEA,MAAMC,OAAA,GAAUb,8BAAA,CAA+B,cAAcU,iBAAA,EAAmB;QAC9EI,IAAA,EAAM;QACNC,QAAA,EAAU,CAAC;MACb,CAAC;MAEKC,WAAA,GAA+B;QACnC,GAAGL,KAAA;QACHM,OAAA,EAASJ,OAAA,CAAQI,OAAA,IAAWN,KAAA,CAAMM,OAAA;QAClCC,IAAA,EAAML,OAAA,CAAQK,IAAA,IAAQP,KAAA,CAAMO,IAAA;QAC5BC,OAAA,EAASN,OAAA,CAAQM,OAAA,IAAWR,KAAA,CAAMQ,OAAA;QAClCC,gBAAA,EAAkBP,OAAA,CAAQO,gBAAA,IAAoBT,KAAA,CAAMS,gBAAA;QACpDC,kBAAA,EAAoBR,OAAA,CAAQQ,kBAAA,IAAsBV,KAAA,CAAMU,kBAAA;QACxDC,YAAA,EAAcT,OAAA,CAAQS,YAAA,IAAgBX,KAAA,CAAMW,YAAA;QAC5CC,WAAA,EAAaV,OAAA,CAAQU,WAAA,IAAeZ,KAAA,CAAMY;MAC5C;MAEMC,UAAA,GAAaC,aAAA,CAAcT,WAAA,EAAaJ,YAAY;IAE1D,OAAI,OAAOI,WAAA,CAAYU,QAAA,IAAa,aAC3B,eAAAxB,GAAA,CAAAD,QAAA;MAAGyB,QAAA,EAAAV,WAAA,CAAYU,QAAA,CAASF,UAAU;IAAA,CAAE,IAGtCzB,KAAA,CAAM4B,YAAA,CACX5B,KAAA,CAAM6B,QAAA,CAASC,IAAA,CAAKb,WAAA,CAAYU,QAAQ,GACxCF,UACF;EACF,CACF;AAMO,SAASC,cACdd,KAAA,EACAC,YAAA,EACA;EACA,MAAM;MACJM,IAAA,GAAO;MACPD,OAAA,GAAU;MACVE,OAAA,GAAU;MACVC,gBAAA,EAAkBU,oBAAA;MAClBT,kBAAA,EAAoBU,sBAAA;MACpBT,YAAA;MACAC,WAAA,GAAc;MACdG,QAAA;MACA,GAAGM;IACL,IAAIrB,KAAA;IACE,CAACsB,SAAA,EAAWC,YAAY,IAAInC,KAAA,CAAMoC,QAAA,CAA6B,IAAI;IACnEf,gBAAA,GAAmBtB,QAAA,CAASgC,oBAAoB;IAChDT,kBAAA,GAAqBvB,QAAA,CAASiC,sBAAsB;IACpDK,qBAAA,GAAwBrC,KAAA,CAAMsC,MAAA,CAA2B,IAAI;IAC7DC,sBAAA,GAAyBvC,KAAA,CAAMwC,WAAA,CAClCC,IAAA,IAAS;MACR7C,eAAA,CAAgB,MAAM;QACpBuC,YAAA,CAAaM,IAAI;MACnB,CAAC;IACH,GACA,CAACN,YAAY,CACf;IACMO,YAAA,GAAe/C,eAAA,CAAgBkB,YAAA,EAAc0B,sBAAsB;IAEnEI,UAAA,GAAa3C,KAAA,CAAMsC,MAAA,CAAO;MAC9BM,MAAA,EAAQ;MACRC,MAAA,EAAQ;QACN,KAAKD,MAAA,GAAS;MAChB;MACAE,OAAA,EAAS;QACP,KAAKF,MAAA,GAAS;MAChB;IACF,CAAC,EAAEG,OAAA;EAGH/C,KAAA,CAAMgD,SAAA,CAAU,MAAM;IAEpB,IADI,CAAC9B,OAAA,IACD,CAACE,OAAA,EAAS;IACd,MAAM6B,UAAA,GAAa,IAAIC,eAAA,CAAgB;IAEvC,SAASC,cAAcC,KAAA,EAAmB;MACxC,IAAIT,UAAA,CAAWC,MAAA,IAAU,CAACV,SAAA,EAAW;MACrC,MAAMmB,MAAA,GAASD,KAAA,CAAMC,MAAA;MAEjBnB,SAAA,CAAUoB,QAAA,CAASD,MAAM,KAG3BA,MAAA,EAAQE,gBAAA,CAAiB,QAAQC,UAAA,EAAY;QAAEC,MAAA,EAAQR,UAAA,CAAWQ;MAAO,CAAC,GAC1EpB,qBAAA,CAAsBU,OAAA,GAAUM,MAAA,IAEhCK,KAAA,CAAMrB,qBAAA,CAAsBU,OAAA,EAAS;QAAEY,MAAA,EAAQ;MAAK,CAAC;IAEzD;IAEA,SAASC,eAAeR,KAAA,EAAmB;MACzCH,UAAA,CAAWY,KAAA,CAAM,GACb,EAAAlB,UAAA,CAAWC,MAAA,IAAU,CAACV,SAAA,MACrBA,SAAA,CAAUoB,QAAA,CAASF,KAAA,CAAMU,aAAmC,KAC/DJ,KAAA,CAAMrB,qBAAA,CAAsBU,OAAA,EAAS;QAAEY,MAAA,EAAQ;MAAK,CAAC;IAEzD;IAEA,SAASH,WAAA,EAAa;MACpBnB,qBAAA,CAAsBU,OAAA,GAAUb,SAAA;IAClC;IAEA,OAAA6B,QAAA,CAASR,gBAAA,CAAiB,WAAWJ,aAAa,GAClDY,QAAA,CAASR,gBAAA,CAAiB,YAAYK,cAAc,GAC7C,MAAM;MACXX,UAAA,CAAWY,KAAA,CAAM,GACjBE,QAAA,CAASC,mBAAA,CAAoB,WAAWb,aAAa,GACrDY,QAAA,CAASC,mBAAA,CAAoB,YAAYJ,cAAc;IACzD;EACF,GAAG,CAACxC,OAAA,EAASG,YAAA,EAAcW,SAAA,EAAWS,UAAA,CAAWC,MAAM,CAAC,GAExD9C,cAAA,CACE,MAAO2D,MAAA,IAAW;IAGhB,IAFI,CAACvC,OAAA,IACD,CAACgB,SAAA,IACDX,YAAA,EAAc;IAElB0C,gBAAA,CAAiBC,GAAA,CAAIvB,UAAU;IAC/B,MAAMwB,wBAAA,GAA2BJ,QAAA,CAASK,aAAA;IAG1C,IAAI,CAFwBlC,SAAA,CAAUoB,QAAA,CAASa,wBAAwB,GAE7C;MACxB,MAAME,UAAA,GAAa,IAAIC,WAAA,CAAYlE,kBAAA,EAAoBE,aAAa;MAIpE,IAHA4B,SAAA,CAAUqB,gBAAA,CAAiBnD,kBAAA,EAAoBiB,gBAAgB,GAC/Da,SAAA,CAAUqC,aAAA,CAAcF,UAAU,GAE9B,CAACA,UAAA,CAAWG,gBAAA,EAAkB;QAE5BhD,WAAA,KACF,MAAM3B,IAAA,CACJ4D,MAAA,EACA,OAAOjC,WAAA,IAAe,WAClBA,WAAA,GACA;UAAA;UAEEiD,GAAA,EAAK;UACLC,GAAA,EAAK,OAAOlD,WAAA,IAAe,WAAWA,WAAA,GAAc;QACtD,CACN;QAGF,MAAMmD,aAAA,GAAgBC,qBAAA,CAAsB1C,SAAS;UAE/C2C,iBAAA,GADgBC,WAAA,CAAYH,aAAa,EACPI,MAAA,CACrCC,SAAA,IAAc,CAACC,QAAA,CAASD,SAAA,EAAW;YAAEE,IAAA,EAAMhD;UAAU,CAAC,CACzD;QAEAiD,UAAA,CAAWN,iBAAA,EAAmB;UAAElB,MAAA,EAAQ;QAAK,CAAC,GAG1CkB,iBAAA,CAAkBO,MAAA,GAAS,IAC7B/C,qBAAA,CAAsBU,OAAA,GAAU8B,iBAAA,CAAkB,CAAC,IAEnDxC,qBAAA,CAAsBU,OAAA,GAAUb,SAAA,EAKhC6B,QAAA,CAASK,aAAA,KAAkBD,wBAAA,IAC3BU,iBAAA,CAAkBO,MAAA,KAAW,KAE7B1B,KAAA,CAAMxB,SAAS;MAEnB;IACF;IAEA,OAAO,MAAM;MACXA,SAAA,CAAU8B,mBAAA,CAAoB5D,kBAAA,EAAoBiB,gBAAgB;MAElE,MAAMgE,YAAA,GAAe,IAAIf,WAAA,CAAYjE,oBAAA,EAAsBC,aAAa;MACxE4B,SAAA,CAAUqB,gBAAA,CAAiBlD,oBAAA,EAAsBiB,kBAAkB,GACnEY,SAAA,CAAUqC,aAAA,CAAcc,YAAY,GAC/BA,YAAA,CAAab,gBAAA,IAChBd,KAAA,CAAMS,wBAAA,IAA4BJ,QAAA,CAASuB,IAAA,EAAM;QAAE3B,MAAA,EAAQ;MAAK,CAAC,GAGnEzB,SAAA,CAAU8B,mBAAA,CAAoB3D,oBAAA,EAAsBiB,kBAAkB,GAEtE2C,gBAAA,CAAiBsB,MAAA,CAAO5C,UAAU;IACpC;EACF,GACA,CACEzB,OAAA,EACAgB,SAAA,EACAX,YAAA,EACAF,gBAAA,EACAC,kBAAA,EACAqB,UAAA,EACAnB,WAAA,CAEJ;EAGA,MAAMgE,aAAA,GAAgBxF,KAAA,CAAMwC,WAAA,CACzBY,KAAA,IAA+C;IAK9C,IAJI,CAAChC,OAAA,IACD,CAACD,IAAA,IACDwB,UAAA,CAAWC,MAAA,IACX,CAAC1B,OAAA,IACD,CAACgB,SAAA,EAAW;IAEhB,MAAMuD,QAAA,GACJrC,KAAA,CAAMsC,GAAA,KAAQ,SAAS,CAACtC,KAAA,CAAMuC,MAAA,IAAU,CAACvC,KAAA,CAAMwC,OAAA,IAAW,CAACxC,KAAA,CAAMyC,OAAA;MAC7DC,cAAA,GAAiB/B,QAAA,CAASK,aAAA;IAEhC,IAAIqB,QAAA,IAAYK,cAAA,EAAgB;MAC9B,MAAM,CAACC,KAAA,EAAOC,IAAI,IAAIC,gBAAA,CAAiB/D,SAAS;MACd6D,KAAA,IAASC,IAAA,GAMrC,CAAC5C,KAAA,CAAM8C,QAAA,IAAYJ,cAAA,KAAmBE,IAAA,IACxC5C,KAAA,CAAM+C,cAAA,CAAe,GACjBhF,IAAA,IAAMuC,KAAA,CAAMqC,KAAA,EAAO;QAAEpC,MAAA,EAAQ;MAAK,CAAC,KAC9BP,KAAA,CAAM8C,QAAA,IAAYJ,cAAA,KAAmBC,KAAA,KAC9C3C,KAAA,CAAM+C,cAAA,CAAe,GACjBhF,IAAA,IAAMuC,KAAA,CAAMsC,IAAA,EAAM;QAAErC,MAAA,EAAQ;MAAK,CAAC,KAPpCmC,cAAA,KAAmB5D,SAAA,IAAWkB,KAAA,CAAM+C,cAAA,CAAe;IAU3D;EACF,GACA,CAAChF,IAAA,EAAMC,OAAA,EAASuB,UAAA,CAAWC,MAAA,EAAQ1B,OAAA,EAASgB,SAAS,CACvD;EAGAlC,KAAA,CAAMgD,SAAA,CAAU,MAAM;IAIpB,IAHI,CAACd,SAAA,IACD,CAACd,OAAA,IACD,CAACD,IAAA,IACD,CAACD,OAAA,EAAS;IAEd,MAAMkF,oBAAA,GAAwBhD,KAAA,IAAyB;MAEjDA,KAAA,CAAMsC,GAAA,KAAQ,SAChBF,aAAA,CAAcpC,KAAK;IAEvB;IAGA,OAAAlB,SAAA,CAAUqB,gBAAA,CAAiB,WAAW6C,oBAAA,EAAsB,EAAI,GAEzD,MAAM;MACXlE,SAAA,CAAU8B,mBAAA,CAAoB,WAAWoC,oBAAA,EAAsB,EAAI;IACrE;EACF,GAAG,CAAClE,SAAA,EAAWd,OAAA,EAASD,IAAA,EAAMD,OAAA,EAASsE,aAAa,CAAC;EAErD,MAAMa,iBAAA,GAAqBpE,UAAA,CAAmBqE,SAAA;IAExCC,iBAAA,GAAoBvG,KAAA,CAAMwC,WAAA,CAC7BY,KAAA,IAA+B;MAC9BiD,iBAAA,GAAoBjD,KAAK;IAE3B,GACA,CAACiD,iBAAiB,CACpB;EAEA,OAAO;IACL,GAAGpE,UAAA;IACHuE,GAAA,EAAK9D,YAAA;IACL4D,SAAA,EAAWC;EACb;AACF;AAUA,SAASpB,WAAWsB,UAAA,EAA2B;EAAE9C,MAAA,GAAS;AAAM,IAAI,CAAC,GAAG;EACtE,MAAMQ,wBAAA,GAA2BJ,QAAA,CAASK,aAAA;EAC1C,WAAWY,SAAA,IAAayB,UAAA,EAEtB,IADA/C,KAAA,CAAMsB,SAAA,EAAW;IAAErB;EAAO,CAAC,GACvBI,QAAA,CAASK,aAAA,KAAkBD,wBAAA,EAA0B;AAE7D;AAKA,SAAS8B,iBAAiB/D,SAAA,EAAwB;EAChD,MAAMuE,UAAA,GAAa7B,qBAAA,CAAsB1C,SAAS;IAC5C6D,KAAA,GAAQW,WAAA,CAAYD,UAAA,EAAYvE,SAAS;IACzC8D,IAAA,GAAOU,WAAA,CAAYD,UAAA,CAAWE,OAAA,CAAQ,GAAGzE,SAAS;EAExD,OAAO,CAAC6D,KAAA,EAAOC,IAAI;AACrB;AAYA,SAASpB,sBAAsB1C,SAAA,EAAwB;EACrD,MAAM0E,KAAA,GAAuB,EAAC;IACxBC,MAAA,GAAS9C,QAAA,CAAS+C,gBAAA,CAAiB5E,SAAA,EAAW6E,UAAA,CAAWC,YAAA,EAAc;MAC3EC,UAAA,EAAaxE,IAAA,IAAc;QACzB,MAAMyE,aAAA,GAAgBzE,IAAA,CAAK0E,OAAA,KAAY,WAAW1E,IAAA,CAAK2E,IAAA,KAAS;QAChE,OAAI3E,IAAA,CAAK4E,QAAA,IAAY5E,IAAA,CAAK6E,MAAA,IAAUJ,aAAA,GAAsBH,UAAA,CAAWQ,WAAA,GAI9D9E,IAAA,CAAK+E,QAAA,IAAY,IAAIT,UAAA,CAAWU,aAAA,GAAgBV,UAAA,CAAWQ,WAAA;MACpE;IACF,CAAC;EACD,OAAOV,MAAA,CAAOa,QAAA,CAAS,IAAGd,KAAA,CAAMe,IAAA,CAAKd,MAAA,CAAOe,WAA0B;EAGtE,OAAOhB,KAAA;AACT;AAMA,SAASF,YAAYmB,QAAA,EAAyB3F,SAAA,EAAwB;EACpE,WAAW4F,OAAA,IAAWD,QAAA,EAEpB,IAAI,CAAC5C,QAAA,CAAS6C,OAAA,EAAS;IAAE5C,IAAA,EAAMhD;EAAU,CAAC,GAAG,OAAO4F,OAAA;AAExD;AAEA,SAAS7C,SAASxC,IAAA,EAAmB;EAAEyC;AAAK,GAA2B;EACrE,IAAI6C,gBAAA,CAAiBtF,IAAI,EAAEuF,UAAA,KAAe,UAAU,OAAO;EAC3D,OAAOvF,IAAA,GAAM;IAEX,IAAIyC,IAAA,KAAS,UAAazC,IAAA,KAASyC,IAAA,EAAM,OAAO;IAChD,IAAI6C,gBAAA,CAAiBtF,IAAI,EAAEwF,OAAA,KAAY,QAAQ,OAAO;IACtDxF,IAAA,GAAOA,IAAA,CAAKyF,aAAA;EACd;EACA,OAAO;AACT;AAEA,SAASC,kBACPL,OAAA,EACqD;EACrD,OAAOA,OAAA,YAAmBM,gBAAA,IAAoB,YAAYN,OAAA;AAC5D;AAEA,SAASpE,MAAMoE,OAAA,EAAkC;EAAEnE,MAAA,GAAS;AAAM,IAAI,CAAC,GAAG;EAExE,IAAImE,OAAA,EAASpE,KAAA,EAAO;IAClB,MAAMS,wBAAA,GAA2BJ,QAAA,CAASK,aAAA;IAE1C,IAAI;MACF0D,OAAA,CAAQpE,KAAA,CAAM;QAAE2E,aAAA,EAAe;MAAK,CAAC,GAEjCP,OAAA,KAAY3D,wBAAA,IAA4BgE,iBAAA,CAAkBL,OAAO,KAAKnE,MAAA,IACxEmE,OAAA,CAAQnE,MAAA,CAAO;IACnB,QAAgB,CAEhB;EACF;AACF;AAOA,MAAMM,gBAAA,GAAmBqE,sBAAA,CAAuB;AAEhD,SAASA,uBAAA,EAAyB;EAEhC,IAAIC,KAAA,GAAyB,EAAC;EAE9B,OAAO;IACLrE,IAAIvB,UAAA,EAA2B;MAE7B,MAAM6F,gBAAA,GAAmBD,KAAA,CAAM,CAAC;MAC5B5F,UAAA,KAAe6F,gBAAA,IACjBA,gBAAA,EAAkB3F,KAAA,CAAM,GAG1B0F,KAAA,GAAQE,WAAA,CAAYF,KAAA,EAAO5F,UAAU,GACrC4F,KAAA,CAAMG,OAAA,CAAQ/F,UAAU;IAC1B;IAEA4C,OAAO5C,UAAA,EAA2B;MAChC4F,KAAA,GAAQE,WAAA,CAAYF,KAAA,EAAO5F,UAAU,GACrC4F,KAAA,CAAM,CAAC,GAAGzF,MAAA,CAAO;IACnB;EACF;AACF;AAEA,SAAS2F,YAAeE,KAAA,EAAYC,IAAA,EAAS;EAC3C,MAAMC,YAAA,GAAe,CAAC,GAAGF,KAAK;IACxBG,KAAA,GAAQD,YAAA,CAAaE,OAAA,CAAQH,IAAI;EACvC,OAAIE,KAAA,KAAU,MACZD,YAAA,CAAaG,MAAA,CAAOF,KAAA,EAAO,CAAC,GAEvBD,YAAA;AACT;AAEA,SAAS/D,YAAYmE,KAAA,EAAsB;EACzC,OAAOA,KAAA,CAAMlE,MAAA,CAAQ6D,IAAA,IAASA,IAAA,CAAKzB,OAAA,KAAY,GAAG;AACpD","ignoreList":[]}